(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a84f35da"],{1276:function(t,e,a){"use strict";var o=a("d784"),r=a("44e7"),n=a("825a"),i=a("1d80"),l=a("4840"),s=a("8aa5"),c=a("50c4"),u=a("14c3"),d=a("9263"),m=a("d039"),p=[].push,f=Math.min,v=4294967295,h=!m((function(){return!RegExp(v,"y")}));o("split",2,(function(t,e,a){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var o=String(i(this)),n=void 0===a?v:a>>>0;if(0===n)return[];if(void 0===t)return[o];if(!r(t))return e.call(o,t,n);var l,s,c,u=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=new RegExp(t.source,m+"g");while(l=d.call(h,o)){if(s=h.lastIndex,s>f&&(u.push(o.slice(f,l.index)),l.length>1&&l.index<o.length&&p.apply(u,l.slice(1)),c=l[0].length,f=s,u.length>=n))break;h.lastIndex===l.index&&h.lastIndex++}return f===o.length?!c&&h.test("")||u.push(""):u.push(o.slice(f)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var r=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r,a):o.call(String(r),e,a)},function(t,r){var i=a(o,t,this,r,o!==e);if(i.done)return i.value;var d=n(t),m=String(this),p=l(d,RegExp),b=d.unicode,_=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),g=new p(h?d:"^(?:"+d.source+")",_),x=void 0===r?v:r>>>0;if(0===x)return[];if(0===m.length)return null===u(g,m)?[m]:[];var C=0,y=0,w=[];while(y<m.length){g.lastIndex=h?y:0;var k,N=u(g,h?m:m.slice(y));if(null===N||(k=f(c(g.lastIndex+(h?0:y)),m.length))===C)y=s(m,y,b);else{if(w.push(m.slice(C,y)),w.length===x)return w;for(var P=1;P<=N.length-1;P++)if(w.push(N[P]),w.length===x)return w;y=C=k}}return w.push(m.slice(C)),w}]}),!h)},"44e7":function(t,e,a){var o=a("861d"),r=a("c6b6"),n=a("b622"),i=n("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},6547:function(t,e,a){var o=a("a691"),r=a("1d80"),n=function(t){return function(e,a){var n,i,l=String(r(e)),s=o(a),c=l.length;return s<0||s>=c?t?"":void 0:(n=l.charCodeAt(s),n<55296||n>56319||s+1===c||(i=l.charCodeAt(s+1))<56320||i>57343?t?l.charAt(s):n:t?l.slice(s,s+2):i-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"7db0":function(t,e,a){"use strict";var o=a("23e7"),r=a("b727").find,n=a("44d2"),i=a("ae40"),l="find",s=!0,c=i(l);l in[]&&Array(1)[l]((function(){s=!1})),o({target:"Array",proto:!0,forced:s||!c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(l)},"8aa5":function(t,e,a){"use strict";var o=a("6547").charAt;t.exports=function(t,e,a){return e+(a?o(t,e).length:1)}},b64b:function(t,e,a){var o=a("23e7"),r=a("7b0b"),n=a("df75"),i=a("d039"),l=i((function(){n(1)}));o({target:"Object",stat:!0,forced:l},{keys:function(t){return n(r(t))}})},f762:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("h1",{staticClass:"page-header"},[t._v("Input Form")]),a("panel",{attrs:{title:"Input Form"}},[a("form",[a("div",{staticClass:"form-group row m-b-15"},[a("label",{staticClass:"col-form-label col-md-1"},[t._v("Form Name")]),a("div",{staticClass:"col-md-4"},[a("v-select",{attrs:{options:t.formName,name:"form_name"},model:{value:t.form_name,callback:function(e){t.form_name=e},expression:"form_name"}})],1),a("label",{staticClass:"col-form-label col-md-1"},[t._v("OKP")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.okp,expression:"okp"}],staticClass:"form-control m-b-5",attrs:{type:"input",placeholder:"Enter OKP Name",name:"okp"},domProps:{value:t.okp},on:{input:function(e){e.target.composing||(t.okp=e.target.value)}}})])]),a("div",{staticClass:"form-group row m-b-15"},[a("label",{staticClass:"col-form-label col-md-1"},[t._v("Product Name")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product_name,expression:"product_name"}],staticClass:"form-control m-b-5",attrs:{type:"input",placeholder:"Enter Product Name",name:"product_name",disabled:""},domProps:{value:t.product_name},on:{input:function(e){e.target.composing||(t.product_name=e.target.value)}}})]),a("label",{staticClass:"col-form-label col-md-1"},[t._v("No Document")]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.no_doc,expression:"no_doc"}],staticClass:"form-control m-b-5",attrs:{type:"input",placeholder:"Enter No Document",name:"no_doc",disabled:""},domProps:{value:t.no_doc},on:{input:function(e){e.target.composing||(t.no_doc=e.target.value)}}})])]),a("div",{staticClass:"form-group row m-b-15"},[a("label",{staticClass:"col-form-label col-md-1"},[t._v("Product Date")]),a("div",{staticClass:"col-md-4"},[a("b-form-datepicker",{staticClass:"form-control m-b-5",attrs:{id:"birth-date",name:"product_date"},model:{value:t.product_date,callback:function(e){t.product_date=e},expression:"product_date"}})],1),a("label",{staticClass:"col-form-label col-md-1"},[t._v("Expired Date")]),a("div",{staticClass:"col-md-4"},[a("b-form-datepicker",{staticClass:"form-control m-b-5",attrs:{id:"expired-date",name:"birth_date"},model:{value:t.expired_date,callback:function(e){t.expired_date=e},expression:"expired_date"}})],1)]),a("div",{staticClass:"form-group row m-b-15"},[a("label",{staticClass:"col-form-label col-md-1"},[t._v("Product Description")]),a("div",{staticClass:"col-md-9"},[a("b-form-textarea",{staticClass:"form-control m-b-5",attrs:{rows:"5",placeholder:"Enter Product Description",name:"product_desc"},model:{value:t.product_desc,callback:function(e){t.product_desc=e},expression:"product_desc"}})],1)]),a("vue-good-table",{attrs:{columns:t.columns,rows:t.data,"line-numbers":!0},scopedSlots:t._u([{key:"table-row",fn:function(e){return["btn"==e.column.field?a("span",[e.row["button"]["button-"+(e.row.originalIndex+1)]?a("b-button",{staticClass:"mr-2",attrs:{variant:"primary"},on:{click:function(a){return t.saveParameter(e.row.originalIndex)}}},[t._v("Save")]):t._e()],1):a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e.row.originalIndex][e.column.label].value,expression:"\n                data[props.row.originalIndex][props.column.label].value\n              "}],staticClass:"form-control m-b-5",attrs:{type:"input",placeholder:"Enter Value",disabled:"manual"!=e.row[e.column.label].type||1==e.row[e.column.label].disable},domProps:{value:t.data[e.row.originalIndex][e.column.label].value},on:{input:function(a){a.target.composing||t.$set(t.data[e.row.originalIndex][e.column.label],"value",a.target.value)}}})])]}}])}),a("b-button",{staticClass:"float-right mt-3",attrs:{variant:"primary"},on:{click:function(e){return t.create()}}},[t._v("Create")])],1)]),a("notifications",{staticClass:"mt-3 ml-3",attrs:{position:"top right",speed:500}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"breadcrumb float-xl-right"},[a("li",{staticClass:"breadcrumb-item"},[a("a",{attrs:{href:"javascript:;"}},[t._v("Home")])]),a("li",{staticClass:"breadcrumb-item active"},[t._v("Input Form")])])}],n=(a("7db0"),a("4160"),a("d81d"),a("b0c0"),a("b64b"),a("ac1f"),a("1276"),a("159b"),a("30e0")),i={name:"add-control-point",data:function(){return{formData:{},name:"",cpId:"",url:"",form_name:"",okp:"",product_name:"",no_doc:"",product_date:"",expired_date:"",product_desc:"",variable:"",variable_name:"",parameter_value:"",formName:[],columns:[],data:[],meta:{}}},created:function(){var t=this.$route.path.split("/");this.cpId=t[3],this.url=t[2],n["a"].pageWithFooter=!0},beforeRouteLeave:function(t,e,a){n["a"].pageWithFooter=!1,a()},watch:{form_name:function(t){t?this.getDataForm(t.value):(this.name="",this.okp="",this.no_doc="",this.product_name="",this.data=[],this.columns=[])}},methods:{create:function(){var t=this,e=this.form_name.value?this.form_name:this.formName.find((function(e){return e.label==t.form_name}));this.data.pop();var a={form:e.value,form_name:e.label,okp:this.okp,product_name:this.product_name,no_doc:this.no_doc,product_date:this.product_date,expired_date:this.expired_date,product_desc:this.product_desc,parameter_value:this.data};"add"==this.url?this.$axios.post("/form-data",a,{headers:{"Content-Type":"application/json"}}).then((function(){t.$notify({title:"Insert Data Success",text:"Success",type:"success"}),setTimeout((function(){t.$router.push("/form")}),1500)})).catch((function(e){t.$notify({title:"Insert Data Failed : ".concat(e),text:"Error",type:"error"})})):this.$axios.post("/form-data/",a,{headers:{"Content-Type":"application/json"}}).then((function(){t.$notify({title:"Update Data Success",text:"Success",type:"success"}),setTimeout((function(){t.$router.push("/form")}),1500)})).catch((function(e){t.$notify({title:"Update Data Failed : ".concat(e),text:"Error",type:"error"})}))},getData:function(){var t=this;if("edit"==this.url){var e="/form-data/"+this.cpId,a={};this.$axios.get(e).then((function(e){var o=e.data.data;console.log(o),t.form_name=o.txtFormName,t.okp=o.txtOkp,t.no_doc=o.txtNoDok,t.product_name=o.txtNameProduct,t.product_desc=o.txtProductDesc,t.product_date=o.dtmProductionDate,t.expired_date=o.dtmDateExpired;var r=o.parameter;t.variable_name=o.variable?o.variable.txtVariableName:"",t.columns.unshift({label:t.variable_name,field:"input-txt",html:!0}),a[t.variable_name]={value:"",type:"manual"};for(var n=0;n<r.length;n++){var i=r[n];t.columns.push({label:i.txtParameterName,field:"input-txt",html:!0}),a[i.txtParameterName]={value:"",type:i.txtTipe}}t.columns.push({label:"Action",field:"btn"});var l="button-"+(t.data.length+1);a["button"]={type:"button"},a["button"][l]=!0,t.data.push(a)})).catch((function(t){console.log(t)}))}},getFormName:function(){var t=this,e="/form-parameter/code";this.$axios.get(e).then((function(e){t.formName=e.data.data.data.map((function(t){return{label:t.txtFormName,value:t.id}}))})).catch((function(t){console.log(t)}))},getDataForm:function(t){var e=this;if(t){var a="/form-parameter/"+t,o={};this.$axios.get(a).then((function(t){var a=t.data.data;e.name=a.txtName,e.okp=a.txtOKP,e.no_doc=a.txtNoDok,e.product_name=a.txtName;var r=a.parameter;e.variable_name=a.variable?a.variable.txtVariableName:"",e.columns.unshift({label:e.variable_name,field:"input-txt",html:!0}),o[e.variable_name]={id:a.variable.id,value:"",type:"manual"};for(var n=0;n<r.length;n++){var i=r[n];e.columns.push({label:i.txtParameterName,field:"input-txt",html:!0}),o[i.txtParameterName]={id:i.intParameterID,value:"",type:i.txtTipe}}e.columns.push({label:"Action",field:"btn"});var l="button-"+(e.data.length+1);o["button"]={type:"button"},o["button"][l]=!0,e.data.push(o)})).catch((function(t){console.log(t)}))}},saveParameter:function(t){var e=this,a=Object.keys(this.data[t]),o={};a.forEach((function(a){var r="button-";e.data[t][a]["disable"]=!0,e.data[t][a][r+e.data.length]=!1;var n=e.data[t][a]["type"];"button"!=a?o[a]={value:"",type:n}:(o["button"]={type:"button"},o["button"][r+(e.data.length+1)]=!0)})),this.data.push(o)}},mounted:function(){this.getData(),this.getFormName()}},l=i,s=a("2877"),c=Object(s["a"])(l,o,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-a84f35da.85da1e19.js.map